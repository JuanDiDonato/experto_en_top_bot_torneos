<!DOCTYPE html>
<html>
  <head>
    <title>Smelly Python code smell report</title>
    <link href="../style.css" rel="stylesheet">
    <link href="../idea.min.css" rel="stylesheet">
  </head>
  <body>
    <h1>Smelly Python</h1>
    <div id="src/threadings.py">
      <h4>
        <a href="../index.html">Home</a> &gt; src/threadings.py
      </h4>
      <pre id="code-block"><code class="language-python"># -*- coding: utf-8 -*-

import time

from riot_api.riot_api import RiotAPI
from database.db import Database

class Threadings():

    def __init__(self):
        self.account_data = RiotAPI()
        self.db = Database()
        self.stadistics = []
        self.points = {}
        self.rounds_saved = []
        self.players_saved = []
        self.summoners = {}
        self.db.start_db()
        self.count = 0

    def tr_update_history(self):
        try:
            print(&quot;Sincronizando historial&quot;)
            data = self.account_data.get_players_data(self.summoners)
            if len(data) &gt; 0:
                self.stadistics.clear()
                self.stadistics.extend(data)
            print(&quot;Datos establecidos&quot;)  
            self.count = 0
        except:
            self.count = self.count + 1
            if self.count &lt; 3:
                time.sleep(5)
                self.tr_update_history()
            else:
                print(&quot;Error al obtener estadisticas&quot;)
                self.count = 0
            
    def tr_sync_tournament(self):
        tournament = self.db.get_tournament()
        if len(tournament) &gt; 0:
            self.points.clear()
            self.rounds_saved.clear()
            self.players_saved.clear()
            print(f&quot;Se encontron {len(tournament)} torneos activos&quot;)
            self.points.update(tournament[0]['points'])
            self.rounds_saved.extend(tournament[0]['rounds'])
            self.players_saved.extend(tournament[0]['players'])
            print(&quot;Rondas y puntos actualizados&quot;)
        else:
            print(&quot;No se encontraron nuevos datos&quot;)
            self.points.clear()
            self.rounds_saved.clear()
            self.players_saved.clear()
            self.stadistics.clear()
    
    def tr_get_summoners(self):
        summoners_list = self.db.get_players()
        for s in summoners_list:
            if self.summoners.get(s['player_ds_id']) == None:
                self.summoners.update({s['player_ds_id'] : s['player_lol_name']})
</code></pre>
    </div>
    <footer>
      <script src="..//highlight.min.js"></script>
      <script src="..//highlightjs-line-numbers.min.js"></script>
      <script>hljs.highlightAll();</script>
      <script src="..//script.js"></script>
      <script>setSmells([{"type": "convention", "location": {"module": "threadings", "python_object": "", "line": 28, "column": 39, "end_line": null, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "trailing-whitespace", "message": "Trailing whitespace", "message_id": "C0303", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "", "line": 38, "column": 0, "end_line": null, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "trailing-whitespace", "message": "Trailing whitespace", "message_id": "C0303", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "", "line": 56, "column": 0, "end_line": null, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "trailing-whitespace", "message": "Trailing whitespace", "message_id": "C0303", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "", "line": 1, "column": 0, "end_line": null, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "missing-module-docstring", "message": "Missing module docstring", "message_id": "C0114", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "Threadings", "line": 8, "column": 0, "end_line": 8, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "missing-class-docstring", "message": "Missing class docstring", "message_id": "C0115", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "Threadings.__init__", "line": 12, "column": 8, "end_line": 12, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "invalid-name", "message": "Attribute name \"db\" doesn't conform to snake_case naming style", "message_id": "C0103", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "Threadings.tr_update_history", "line": 21, "column": 4, "end_line": 21, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "missing-function-docstring", "message": "Missing function or method docstring", "message_id": "C0116", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "Threadings.tr_sync_tournament", "line": 39, "column": 4, "end_line": 39, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "missing-function-docstring", "message": "Missing function or method docstring", "message_id": "C0116", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "Threadings.tr_get_summoners", "line": 57, "column": 4, "end_line": 57, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "missing-function-docstring", "message": "Missing function or method docstring", "message_id": "C0116", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "Threadings.tr_get_summoners", "line": 59, "column": 12, "end_line": 59, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "invalid-name", "message": "Variable name \"s\" doesn't conform to snake_case naming style", "message_id": "C0103", "severity": 0},{"type": "convention", "location": {"module": "threadings", "python_object": "Threadings.tr_get_summoners", "line": 60, "column": 15, "end_line": 60, "path": "src/threadings.py", "severity": 0, "type": "convention"}, "symbol": "singleton-comparison", "message": "Comparison 'self.summoners.get(s['player_ds_id']) == None' should be 'self.summoners.get(s['player_ds_id']) is None'", "message_id": "C0121", "severity": 0}])</script>
    </footer>
  </body>
</html>